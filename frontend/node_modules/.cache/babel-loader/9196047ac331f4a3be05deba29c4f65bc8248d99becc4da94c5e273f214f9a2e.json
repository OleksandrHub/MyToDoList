{"ast":null,"code":"import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, resolveComponent as _resolveComponent, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = {\n  key: 1\n};\nconst _hoisted_3 = {\n  key: 2\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = [\"checked\"];\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = {\n  key: 3\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_EditTaks = _resolveComponent(\"EditTaks\");\n  const _component_AddTask = _resolveComponent(\"AddTask\");\n  return _openBlock(), _createElementBlock(\"div\", null, [$props.user ? (_openBlock(), _createElementBlock(\"p\", _hoisted_1, \"Привіт, \" + _toDisplayString($props.user.name) + \"! Ось твій список справ ✨\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit('logout'))\n  }, \"Вийти\"), _cache[4] || (_cache[4] = _createElementVNode(\"div\", null, [_createElementVNode(\"label\", {\n    for: \"search\"\n  }, \"Знайти задачу...\"), _createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"search\"\n  })], -1 /* HOISTED */)), $data.error !== '' ? (_openBlock(), _createElementBlock(\"p\", _hoisted_2, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $data.tasks.length > 0 ? (_openBlock(), _createElementBlock(\"section\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.tasks, task => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: task.id\n    }, [task.id !== $data.editbutton_id ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"h3\", null, _toDisplayString(task.title), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(task.description), 1 /* TEXT */), _createElementVNode(\"input\", {\n      type: \"checkbox\",\n      checked: task.completed\n    }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"p\", null, \"Дата виконання: \" + _toDisplayString(task.date), 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteTask(task.id)\n    }, \"Видалити\", 8 /* PROPS */, _hoisted_6), _createElementVNode(\"button\", {\n      onClick: $event => $data.editbutton_id = task.id\n    }, \"Редагувати\", 8 /* PROPS */, _hoisted_7)])) : _createCommentVNode(\"v-if\", true), task.id === $data.editbutton_id ? (_openBlock(), _createBlock(_component_EditTaks, {\n      key: 1,\n      task: task,\n      onFetchTasks: $options.fetchTasks,\n      onEditbutton: _cache[1] || (_cache[1] = $event => $data.editbutton_id = $event)\n    }, null, 8 /* PROPS */, [\"task\", \"onFetchTasks\"])) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_8, \"У вас ще немає задач. Додайте першу!\")), !$data.addbutton ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 4,\n    onClick: _cache[2] || (_cache[2] = $event => $data.addbutton = !$data.addbutton)\n  }, \"Додати задачу\")) : _createCommentVNode(\"v-if\", true), $data.addbutton ? (_openBlock(), _createBlock(_component_AddTask, {\n    key: 5,\n    user_id: $props.user.id,\n    onFetchTasks: $options.fetchTasks,\n    onAddbutton: _cache[3] || (_cache[3] = $event => $data.addbutton = $event)\n  }, null, 8 /* PROPS */, [\"user_id\", \"onFetchTasks\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementBlock","$props","user","_hoisted_1","_toDisplayString","name","_createElementVNode","onClick","_cache","$event","_ctx","$emit","for","type","id","$data","error","_hoisted_2","tasks","length","_hoisted_3","_Fragment","_renderList","task","key","editbutton_id","_hoisted_4","title","description","checked","completed","date","$options","deleteTask","_hoisted_6","_hoisted_7","_createBlock","_component_EditTaks","onFetchTasks","fetchTasks","onEditbutton","_hoisted_8","addbutton","_component_AddTask","user_id","onAddbutton"],"sources":["/home/homesasha/Python_Fullstack/SashaTodoList/public/src/components/TaskComponent.vue"],"sourcesContent":["<template>\n    <div>\n        <p v-if=\"user\">Привіт, {{ user.name }}! Ось твій список справ ✨</p>\n        <button @click=\"$emit('logout')\">Вийти</button>\n        <div>\n            <label for=\"search\">Знайти задачу...</label>\n            <input type=\"text\" id=\"search\" />\n        </div>\n        <p v-if=\"error !== ''\">{{error}}</p>\n        <section v-if=\"tasks.length > 0\">\n            <div v-for=\"task in tasks\" :key=\"task.id\">\n                <div v-if=\"task.id !== editbutton_id\">\n                    <h3>{{ task.title }}</h3>\n                    <p>{{ task.description }}</p>\n                    <input type=\"checkbox\" :checked=\"task.completed\"  />\n                    <p>Дата виконання: {{ task.date }}</p>\n                    <button @click=\"deleteTask(task.id)\">Видалити</button>\n                    <button @click=\"editbutton_id = task.id\">Редагувати</button>\n                </div>\n                <EditTaks v-if=\"task.id === editbutton_id\" :task=\"task\" @fetchTasks=\"fetchTasks\" @editbutton=\"editbutton_id = $event\" />\n            </div>\n        </section>\n        <p v-else>У вас ще немає задач. Додайте першу!</p>\n        <button v-if=\"!addbutton\" @click=\"addbutton = !addbutton\">Додати задачу</button>\n        <AddTask v-if=\"addbutton\" :user_id=\"user.id\" @fetchTasks=\"fetchTasks\" @addbutton=\"addbutton = $event\" />\n\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport AddTask from './AddTask.vue';\nimport EditTaks from './EditTaks.vue';\n\nexport default {\n    name: 'TaskComponent',\n    components: {\n        AddTask,\n        EditTaks\n    },\n    props: {\n        user: Object\n    },\n    data() {\n        return {\n            tasks: [],\n            error: '',\n            addbutton: false,\n            editbutton_id: 0\n        }\n    },\n    methods: {\n        async fetchTasks() {\n            this.error = '';\n            try {\n                const response = await axios.get(`http://127.0.0.1:8000/tasks/${this.user.id}`);\n                this.tasks = response.data;\n            } catch (err) {\n                if (err.request) {\n                    this.error = 'Не вдалося підключитися до сервера. Перевірте ваше інтернет-з\\'єднання.';\n                } else {\n                    this.error = 'Сталася помилка під час відправки запиту.';\n                }\n            }\n        },\n        async deleteTask(id) {\n            try {\n                await axios.delete(`http://127.0.0.1:8000/tasks/${id}`);\n                this.fetchTasks();\n            } catch (err) {\n                if (err.request){\n                    this.error = 'Не вдалося підключитися до сервера. Перевірте ваше інтернет-з\\'єднання.';\n                } else {\n                    this.error = 'Сталася помилка під час відправки запиту.';\n                }\n            }\n        }\n    },\n    watch: {\n        user: {\n            handler(newUser) {\n                if (newUser && newUser.id) {\n                    this.fetchTasks();\n                } else {\n                    this.tasks = [];\n                    this.error = '';\n                }\n            },\n            immediate: true\n        }\n    }\n}\n</script>\n\n<style scoped></style>"],"mappings":";;;;;;;;;;;;;;;;;;;;;;uBACIA,mBAAA,CAyBM,cAxBOC,MAAA,CAAAC,IAAI,I,cAAbF,mBAAA,CAAmE,KAAAG,UAAA,EAApD,UAAQ,GAAAC,gBAAA,CAAGH,MAAA,CAAAC,IAAI,CAACG,IAAI,IAAG,2BAAyB,mB,mCAC/DC,mBAAA,CAA+C;IAAtCC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,KAAK;KAAY,OAAK,G,0BACtCL,mBAAA,CAGM,cAFFA,mBAAA,CAA4C;IAArCM,GAAG,EAAC;EAAQ,GAAC,kBAAgB,GACpCN,mBAAA,CAAiC;IAA1BO,IAAI,EAAC,MAAM;IAACC,EAAE,EAAC;2BAEjBC,KAAA,CAAAC,KAAK,W,cAAdhB,mBAAA,CAAoC,KAAAiB,UAAA,EAAAb,gBAAA,CAAXW,KAAA,CAAAC,KAAK,oB,mCACfD,KAAA,CAAAG,KAAK,CAACC,MAAM,Q,cAA3BnB,mBAAA,CAYU,WAAAoB,UAAA,I,kBAXNpB,mBAAA,CAUMqB,SAAA,QAAAC,WAAA,CAVcP,KAAA,CAAAG,KAAK,EAAbK,IAAI;yBAAhBvB,mBAAA,CAUM;MAVsBwB,GAAG,EAAED,IAAI,CAACT;QACvBS,IAAI,CAACT,EAAE,KAAKC,KAAA,CAAAU,aAAa,I,cAApCzB,mBAAA,CAOM,OAAA0B,UAAA,GANFpB,mBAAA,CAAyB,YAAAF,gBAAA,CAAlBmB,IAAI,CAACI,KAAK,kBACjBrB,mBAAA,CAA6B,WAAAF,gBAAA,CAAvBmB,IAAI,CAACK,WAAW,kBACtBtB,mBAAA,CAAoD;MAA7CO,IAAI,EAAC,UAAU;MAAEgB,OAAO,EAAEN,IAAI,CAACO;yCACtCxB,mBAAA,CAAsC,WAAnC,kBAAgB,GAAAF,gBAAA,CAAGmB,IAAI,CAACQ,IAAI,kBAC/BzB,mBAAA,CAAsD;MAA7CC,OAAK,EAAAE,MAAA,IAAEuB,QAAA,CAAAC,UAAU,CAACV,IAAI,CAACT,EAAE;OAAG,UAAQ,iBAAAoB,UAAA,GAC7C5B,mBAAA,CAA4D;MAAnDC,OAAK,EAAAE,MAAA,IAAEM,KAAA,CAAAU,aAAa,GAAGF,IAAI,CAACT;OAAI,YAAU,iBAAAqB,UAAA,E,wCAEvCZ,IAAI,CAACT,EAAE,KAAKC,KAAA,CAAAU,aAAa,I,cAAzCW,YAAA,CAAwHC,mBAAA;;MAA5Ed,IAAI,EAAEA,IAAI;MAAGe,YAAU,EAAEN,QAAA,CAAAO,UAAU;MAAGC,YAAU,EAAAhC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEM,KAAA,CAAAU,aAAa,GAAGhB,MAAM;;qDAG5HT,mBAAA,CAAkD,KAAAyC,UAAA,EAAxC,sCAAoC,I,CAC/B1B,KAAA,CAAA2B,SAAS,I,cAAxB1C,mBAAA,CAAgF;;IAArDO,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEM,KAAA,CAAA2B,SAAS,IAAI3B,KAAA,CAAA2B,SAAS;KAAE,eAAa,K,mCACxD3B,KAAA,CAAA2B,SAAS,I,cAAxBN,YAAA,CAAwGO,kBAAA;;IAA7EC,OAAO,EAAE3C,MAAA,CAAAC,IAAI,CAACY,EAAE;IAAGwB,YAAU,EAAEN,QAAA,CAAAO,UAAU;IAAGM,WAAS,EAAArC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEM,KAAA,CAAA2B,SAAS,GAAGjC,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}